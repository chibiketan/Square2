version: '2'

services:
  ketan.funeco.web:
    image: ketan/funeco.web:Debug
    build:
      context: .
      dockerfile: Dockerfile.debug
    environment:
      - REMOTE_DEBUGGING=${REMOTE_DEBUGGING}
    ports:
      - "9090:80"
# En cas de probleme sous Windows : http://stackoverflow.com/questions/30040708/how-to-mount-local-volumes-in-docker-machine
    volumes:
      - ${PROJECT_FOLDER}/wwwroot:/app/wwwroot

  ketan.ldap:
    image: ketan/ldap:Debug
    build:
      context: ${PROJECT_FOLDER}/../../../docker-images/ldap
      dockerfile: Dockerfile
    environment:
      - LDAP_DOMAIN=funeco.com
      - LDAP_ORGANISATION="Marbrerie Funeraire"
      - LDAP_ROOTPASS=MyRoot
    volumes:
      - ./ldap:/var/lib/ldap
